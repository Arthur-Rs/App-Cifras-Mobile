<html>
  <head>
  
    <title>Detalhe da Música</title>
	
	<!------------- Eu Tomei a Liberdade de organizar as suas pastas com os JavaScript --------->
	
    <meta http-equiv="content-type" content="text/html; charset=utf-8">
    <link rel="stylesheet" href="../css/bootstrap.min.css">
	
	<script src="../js/bootstrap/bootstrap.min.js"></script>
    <script src="../js/jquery/jquery-3.4.1.min.js"></script>
    <script src="../js/jquery/jquery-ui.min.js"></script>
	
	<script type="text/javascript" src="../js/musicControl.js"></script>
    <script type="text/javascript" src="../js/tomchange.js"></script>
	<script type="text/javascript" src="../js/limpacifra.js"></script>
    <script type="text/javascript" src="../js/aumentarfonte.js"></script>
	
	<script type="text/javascript" src="../js/json/database.json"></script>
	
    <script>			
				var query = window.location.search; // Pegando a url pelo GET ;D
				  if (query.substring(0, 1) == '?') {
					query = query.substring(1);
				  }		
				
				$(function() {
				
				$( "#menos-meio-tom" ).button()
				.click(function() {

					var cifras = document.getElementsByTagName ('b');

					for (i = 0; i < cifras.length; i++) {
						if(!mapMenosMeioTom[cifras[i].innerHTML]){
							console.log('Cifra no mapeada');
							continue;
						}

						cifras[i].innerHTML = mapMenosMeioTom[cifras[i].innerHTML];
					}

				});

				$( "#mais-meio-tom" ).button()
				.click(function() {

					var cifras = document.getElementsByTagName ('b');

					for (i = 0; i < cifras.length; i++) {
						if(!mapMaisMeioTom[cifras[i].innerHTML]){
							console.log('Cifra no mapeada', cifras[i].innerHTML);
							continue;
						}

						cifras[i].innerHTML = mapMaisMeioTom[cifras[i].innerHTML];
					}

				});
				
				$( "#limpar" ).button()
				.click(function() {

					var cifras = document.getElementsByTagName ('b');

					for (i = 0; i < cifras.length; i++) {
						if(!mapLimpar[cifras[i].innerHTML]){
							console.log('Cifra no mapeada', cifras[i].innerHTML);
							continue;
						}

						cifras[i].innerHTML = mapLimpar[cifras[i].innerHTML];
					}

				});

			  });
			  
			  
  </script>
  
  <style type="text/css">
    pre {
		white-space: pre-wrap;
	    padding: 5px;
    }
  </style>
  </head>
  <body>
    <div align="center"><br>
		<a href="javascript:mudaTamanho('texto', -1);">
			<button type="button" class="btn btn-primary btn-sm"> - </button>
		</a>&nbsp;
			<button type="button" class="btn btn-primary btn-sm">Texto</button>&nbsp;
		<a href="javascript:mudaTamanho('texto', 1);">
			<button type="button" class="btn btn-primary btn-sm"> + </button>
		</a>&nbsp;&nbsp;&nbsp;	
		<button type="button" class="btn btn-success btn-sm" id="menos-meio-tom">-1/2</button>&nbsp;
		<button type="button" class="btn btn-success btn-sm">Tom</button>&nbsp;
		<button type="button" class="btn btn-success btn-sm" id="mais-meio-tom">+1/2</button><br><br>
		<button type="button" class="btn btn-danger btn-sm" id="limpar">Remover Acordes</button>&nbsp;
		<button type="button" class="btn btn-dark btn-sm" onClick="history.go(-1)" value="voltar">Voltar</button><br>
    
	</div>
	<br>
    <!-- Aqui carrega o titulo do JSON -->
	<h4 id ="titulo_Musica"></h4>
    <!-- Ainda não sei onde o LINK vai ficar, mas trazendo ele eu acrescento o link depois -->
	<br>
		<div id ="texto">
		    <pre  id="texto_Musica"></pre>
		</div>
	<br>
	<h6>Vídeo da Música (Requer conexão com a Internet)</h6>
    <br>
	<a id="link_music"></a><!------- O LINK FICARIA ASSIM ----------->
	<script>	
	  new musicControl({ //Aqui eu carrego a classe que criei no documento "musicControl.js" ;D
			title_H4: document.getElementById('titulo_Musica'), //SUA TAG TITULO
			link_A: document.getElementById('link_music'), //SUA TAG LINK
			content_Pre : document.getElementById('texto_Musica'), //SUA TAG ONDE FICARA A LETRA ! XD
			music_List : musics["musicas"], //AQUI ESTA O SEU JSON SENDO MANDADO PARA TRATAMENTO
			music_Id : query //AQUI ESTÁ O ID DA MUSICA! o/
		  });
		  
  </script>
	
  </body>
</html>
